<html><head><meta charset=utf-8><title>Twitterまとめサイト内検索</title><script src=../index.js></script></head><style>h1{background:#ccc;border:1px solid #000;color:#222;padding:4px;margin:0 0 1em;font-size:1.2em}dd{margin:0;padding:0 0 1em .5em;font-size:90%;width:70%}dd span{font-size:80%;color:#888}dd b{color:#660;background-color:#ffd;font-weight:700;border:1px solid #bb0;margin:0 2px;padding:0 2px}#navi span{border:1px solid #000;padding:0 .5em;cursor:pointer}span.selected{background:#888}</style><body><h1>Twitterまとめサイト内検索</h1><ul><li>本文から検索します。</li><li>ひらがなカタカナはローマ字のまま検索できます。</li></ul><script src=../index.js></script><style>dd{margin:0;padding:0 0 1em .5em;width:90%}dd span{font-size:80%;color:#888}dd b{color:#660;background-color:#ffd;font-weight:700;border:1px solid #bb0;margin:0 2px;padding:0 2px}#navi{margin:.5rem 0;line-height:2rem}#navi span{border-top:1px solid #d8d8d8;border-bottom:1px solid #d8d8d8;padding:.33rem .66rem;cursor:pointer;word-wrap:break-word}#navi span.selected{background:#d3edf7}#navi span:first-child{border-left:1px solid #d8d8d8;border-top-left-radius:.4rem;border-bottom-left-radius:.4rem}#navi span:last-child{border-right:1px solid #d8d8d8;border-top-right-radius:.4rem;border-bottom-right-radius:.4rem}#searchbox input{font-size:.8rem;padding:.25rem;margin-bottom:.2rem}@media(max-width:15em){#navi{width:300px}}</style><div id=searchbox><input type=text id=q onkeyup=do_find(this.value) onkeydown=key(event.keyCode) autocomplete=off placeholder=サイト内を検索>　<span id=stat></span><div id=navi></div><div id=result></div></div><script>window.onload=function(){gid("q").focus()},$_=String.prototype,$_.mReplace=function(e,t){var s,o,n=this;t||(t="");for(s in e)o=new RegExp(s,t),n=n.replace(o,e[s]);return n},$_=Date.prototype,$_.format="yyyy-mm-dd HH:MM:SS",$_.formatTime=function(e){var n,s,t={yyyy:(n=this.getYear())<2e3?n+1900:n,mm:this.getMonth()+1,dd:this.getDate(),HH:this.getHours(),MM:this.getMinutes(),SS:this.getSeconds()};for(s in t)t[s]<10&&(t[s]="0"+t[s]);return e?e.mReplace(t):this.format.mReplace(t)}</script><script>var i,start=(new Date).getTime(),bodyidx,end,bodylist=[],st=gid("stat"),re=gid("result"),nv=gid("navi"),max=5,KC={enter:13,left:37,right:39,up:38,down:40};function gid(e){return document.getElementById(e)}function ignore_case(){var e=arguments;return"["+e[0]+e[0].toUpperCase()+"]"}function do_find(e){if(this.lastquery==e)return;this.lastquery=e;var t=find(e);t.length&&(pagenavi(t),view(t))}function key(e){switch(e){case KC.enter:mv(1);break;case KC.left:mv(-1);break;case KC.right:mv(1);break;case KC.up:mv(-1);break;case KC.down:mv(1);break}}function find(e){var t,n,s,o,i,a,c,l,d,r=e;if(!e)return[];if(r){i=r.replace(/[a-z]/g,ignore_case);try{reg=new RegExp(i,"g")}catch{reg=/(.)/g}}else reg=/(.)/g;l=(new Date).getTime(),t=[];for(n=0;n<data.length;n++){if(a=bodylist[n],s=reg.exec(a),!s)continue;c=s[0].length,o=s.index,o!=-1&&t.push([n,o,c])}return t.length&&(st.innerHTML=t.length+"件見つかりました。"),d=(new Date).getTime(),console.log("Find:"+(d-l)+" ms"),t}function time2date(e){if(this.cache||(this.cache={}),this.cache[e])return this.cache[e];var t=new Date(e*1e3);return this.cache[e]=t.formatTime("yyyy年mm月dd日"),this.cache[e]}function snippet(e,t,n){var s=t-20;return[e.substring(s,t),,"<b>",e.substr(t,n),"</b>",e.substr(t+n,50)].join("")}function pagenavi(e){for(var s=e.length,o=Math.ceil(s/max),n=[],t=0;t<o;t++)n.push(`<span onclick='view("",`,t+1,");sw(",t,")'>",t+1,"</span>");nv.innerHTML=n.join(""),sw(0)}function sw(e){for(var n=nv.getElementsByTagName("span"),t=0;t<n.length;t++)n[t].className=t==e?"selected":""}function mv(e){var t,n,o,s=nv.getElementsByTagName("span");if(!s.length)return;for(n=0;n<s.length;n++)if(s[n].className=="selected"){o=n;break}if(t=o+e,t<0)return;t>s.length-1&&(t=0),sw(t),view("",t+1)}function view(result,offset){offset||(offset=1),result?this.last=result:result=this.last.reverse();for(var r=result.reverse(),num,idx,len,buf=["<dl>"],count=0,i=(offset-1)*max;i<r.length;i++){if(count++,count>max)break;with(num=r[i][0],idx=r[i][1],len=r[i][2],data[num])buf.push("<dt><a href='",url,"'>",title||"無題","</a>","<dd>",snippet(bodylist[num],idx,len))}re.innerHTML=buf.join("")}for(i=0;i<data.length;i++)bodylist.push(data[i].title+" "+data[i].content);bodyidx=bodylist.join("<>"),end=(new Date).getTime(),console.log("Index:"+(end-start)+" ms")</script><noscript><p class=notice>注意: この検索機能は JavaScript を使用しています。</p></noscript></div></div></div><label for=sidebar-checkbox class=sidebar-toggle></label>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-29141274-4","auto"),ga("send","pageview"))</script></body></html>